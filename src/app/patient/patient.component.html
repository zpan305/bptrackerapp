<div *ngIf="patientExist">
    <div class="logout">
        <h1>Patient Profile</h1>
        <div class="card text-center">
            <ul class="list-group list-group-flush">
              <li class="list-group-item"><h3>Patient Name: {{ patientName }}</h3></li>
              <li class="list-group-item"><h3>Patient Gender: {{ patientGender }}</h3></li>
              <li class="list-group-item"><h3>Patient Age: {{ patientAge }}</h3></li>
            </ul>
        </div>
        <button type="button" class="btn btn-primary btn-lg" (click)="onClick()">Logout</button>
    </div>

    <div class="bottomDiv">
        <table>
            <tr>
                <td>
                    <div class="col-xs-12 bpIntake">
                        <h4 class="text-primary"><h3>Enter your daily blood pressure below</h3></h4>
                        <form #bpForm="ngForm" (ngSubmit)="onSendBpData(bpForm)">
                            <div class="form-group">
                                <label for="bp"><h3>Blood Pressure (mmHg)</h3></label>
                                <input type="bp" id="bp" class="form-control" ngModel name="bp" required/>
                            </div>
                            <div class="form-group">
                                <label for="date"><h3>Date</h3></label>
                                <input type="date" id="date" class="form-control" ngModel name="date" required/>
                            </div>
                            <div>
                                <button class="btn btn-primary btn-lg" type="submit" [disabled]="!bpForm.valid">
                                    Submit
                                </button>
                            </div>
                        </form>
                    </div>
                    <!-- <p>{{ measureAndDate }}</p> -->
                </td>
                <td>
                    <canvas class="chart" *ngIf="graphDataExist" baseChart
                            [datasets]="graphData" 
                            [labels]="graphLabels" 
                            [options]="graphOptions"
                            [colors]="graphColors" 
                            [legend]="graphLegend" 
                            [chartType]="graphType">
                    </canvas>
                </td>
            </tr>
        </table>
        <div class="finalSection" *ngIf="graphDataExist">
            <h1>Patient Analysis</h1>
            <div class="analysis text-center">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item analysisItem"><h3>Average Blood Pressure: {{ patientAverageBp }} mmHg</h3></li>
                  <li class="list-group-item analysisItem"><h3>Blood Pressure Category: {{ bPcategory }}</h3></li>
                  <li class="list-group-item analysisItem"><h3>What To Do: {{ action }}</h3></li>
                </ul>
            </div>
        </div>     

        <h1 *ngIf="graphDataExist" style="text-align:center;margin-top:100px;margin-bottom:50px;">Healthy Lifestyle Advice</h1>
        <table *ngIf="graphDataExist" style="margin-bottom:50px;">
            <tr>
                <td style="left: 16%; position: relative;">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                          <div class="flip-card-front">
                            <img src="../../assets/sodium.png" alt="sodium" style="width:200px;height:200px;">
                          </div>
                          <div class="flip-card-back">
                            <h1>Follow a low-sodium diet</h1>
                          </div>
                        </div>
                    </div>    
                </td>
                <td style="left: 33%; position: relative;">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                          <div class="flip-card-front">
                            <img src="../../assets/beer.png" alt="alcohol" style="width:200px;height:200px;">
                          </div>
                          <div class="flip-card-back">
                            <h1>Lower your alcohol intake</h1>
                          </div>
                        </div>
                    </div>                        
                </td>
                <td style="left: 50%; position: relative;">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                          <div class="flip-card-front">
                            <img src="../../assets/capsules.png" alt="medication" style="width:200px;height:200px;">
                          </div>
                          <div class="flip-card-back">
                            <h2>Take your BP medications at the same time every day</h2>
                          </div>
                        </div>
                    </div>                        
                </td>    
                <td style="left: 66%; position: relative;">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                          <div class="flip-card-front">
                            <img src="../../assets/relaxation.png" alt="relax" style="width:200px;height:200px;">
                          </div>
                          <div class="flip-card-back">
                            <h1>Try to reduce stress</h1>
                          </div>
                        </div>
                    </div>                        
                </td> 
                <td style="left: 83%; position: relative;">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                          <div class="flip-card-front">
                            <img src="../../assets/triangle.png" alt="medication" style="width:200px;height:200px;">
                          </div>
                          <div class="flip-card-back">
                            <h1>Exercise at least 30 minutes every day</h1>
                          </div>
                        </div>
                    </div>                        
                </td>                                             
            </tr>
        </table>
    </div>  
</div>



<div *ngIf="!patientExist" class="row intake">
    <div class="col-xs-12 col-md-3 col-md-offset-4">
      <h4 class="text-primary">Please enter the following information!</h4>
      <form #patientForm="ngForm" (ngSubmit)="onSubmit(patientForm)">
          <div class="form-group">
              <label for="name">Name</label>
              <input type="name" id="name" class="form-control" ngModel name="name" required/>
          </div>
          <div class="form-group">
              <label for="gender">Gender</label>
              <input type="gender" id="gender" class="form-control" ngModel name="gender" required/>
          </div>
          <div class="form-group">
            <label for="age">Age</label>
            <input type="age" id="age" class="form-control" ngModel name="age" required/>
          </div>
          <div>
              <button class="btn btn-primary" type="submit" [disabled]="!patientForm.valid">
                  Submit
              </button>
          </div>
      </form>
    </div>
  </div>